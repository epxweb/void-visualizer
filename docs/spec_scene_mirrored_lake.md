# ビジュアルシーン仕様書: "Mirrored Lake"

## 1. コンセプト

-   **テーマ**: 静かな湖に鏡面反射する、満天の星空。
-   **ビジュアル**: 画面中央の地平線を境に、星空と山の稜線が湖面に上下対称に映り込む、静謐でクールな風景。
-   **全体的な雰囲気**: ユーザー提供のイメージをベースにした、ミニマルで没入感のあるタイムラプス映像のような体験。

---

## 2. 構成要素

-   **背景**:
    -   **空**: 地平線から天頂に向かって緩やかに明るくなる、黒をベースにした暗色の線形グラデーション。
    -   **湖面**: 空の上下反転。空よりも全体的に少し暗いトーンのグラデーション。
-   **星空**:
    -   画面上半分に、foregroundColorで多数の微細な光点として描画される。
    -   湖面には、少し明るさを落として上下反転して鏡面反射される。
-   **山の稜線**:
    -   地平線上に配置される、黒一色で塗りつぶされたシルエット。
    -   湖面には、上下反転で完全に鏡面反射される。

---

## 3. オーディオ連動

-   **全帯域**:
    -   山の稜線とシルエットは、横軸を周波数・縦軸をレベルとするスペクトラムアナライザー風のリアルタイム表示として機能する。ビートに合わせて、山脈がリズミカルに隆起するような、ダイナミックな動きを表現する。
-   **中域 (Mid)**(未実装):
    -   `mid`の検知に応じて、画面上半分の**空の星々が上（画面に向かってy軸方向）へ**ゆっくりと移動し、逆に画面下半分の**湖に映し出された星々は下へ**同じ速度で移動する。`mid`が強いほど速度は増し、入力がないと静止する。**星々は途切れることなく、連続的に表示されなければならない**。そのために、ElevatorShaft.jsのビル窓で採用しているのとロジックを採用する。
-   **高域 (Treble)**:
    -   空に浮かぶ星々が、ハイハットなどの音に同期して**ランダムにまたたく**。`trebleAttack`を検知した瞬間に、一部の星が強く閃光を放つ。