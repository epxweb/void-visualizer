# プロジェクト仕様書: Real-time Audio Visualizer "Void"

## v1.1 追加機能要件

### 1. ビジュアル表現の強化

#### ストロボ機能の実装
- **概要**: ビートに連動して、画面全体を瞬間的にフラッシュさせるストロボエフェクトを追加する。
- **仕様**:
    - **トリガー**: 低域 (Bass) のエネルギー量が、設定された閾値を超えた瞬間にエフェクトを発火させる。
    - **UI**:
        - ストロボ機能のON/OFFを切り替えるトグルスイッチをUIに追加する。
        - ストロボの感度はグローバルのbass感度とは別にUIにスライダーとして追加する。
        - ストロボの明るさ（不透明度）を調整するスライダーをUIに追加する。最大値でも眩しすぎないよう、デフォルトは#FFFFFFの50%程度の明るさとする。
    - **実装**: 画面全体を覆う平面 (Plane) オブジェクトを用意し、トリガー時に短時間表示させて、即座にフェードアウトさせることで実現する。
    - **留意点**: 
        - **重要**:シーンがクロスフェードする間も動作を停止させないこと。
        - グレイン同様、ポストエフェクトとして実装するのが良いかどうかを検討する。
        - 最前面にレイヤーさせずに、背景が発光するような形で実装しても良い。

---

### 2. UI/UXの改善

#### 2-1: シーン自動遷移のランダム化オプション
- **概要**: シーンの自動遷移モードに、現在のシーケンシャル（1→2→...→5）な順序に加え、ランダムな順序で遷移するオプションを追加する。
- **仕様**:
    - `Scene Transition`フォルダ内に「Random Order」のようなトグルスイッチを追加する。
    - ONの場合、次のシーンを現在アクティブなスロットの中から、現在のシーン以外をランダムに選択して遷移する。

#### 2-2: Empty（空）スロットの実装
- **概要**: 5つのシーンスロットに、何も表示しない「Empty」状態を割り当てられるようにする。
- **仕様**:
    - シーン選択のドロップダウンリストに「Empty」の選択肢を追加する。
    - スロットに「Empty」が割り当てられている場合、そのスロットではビジュアルが描画されない（背景色のみの状態になる）。
    - シーンの自動遷移が有効な場合、「Empty」が設定されているスロットはスキップして次の有効なスロットへ遷移する。
