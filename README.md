# Void Visualizer v.1.2.0

リアルタイム音声入力に反応する、DJのためのミニマルな簡易VJ Webアプリです。  
ブラウザで開いて、DJ時にOBSのウィンドウキャプチャのソースとして利用することを想定しています。  
音声入力の仕組み上、オーディオインターフェースにループバックなどの機能が必要なことがあります。

## 🎛️ DEMO
[https://epxweb.github.io/void-visualizer/](https://epxweb.github.io/void-visualizer/)

## ✨ Features

-   **リアルタイム音声解析**: マイクやOSのオーディオ入力から音声を取得し、**低域・中音域・高域**の3帯域に分割してビジュアルに反映します。
-   **多彩なビジュアルシーン**: 音楽の特性に応じて様々な表情を見せる、複数のビジュアルシーンを搭載しています。
-   **UIコントロールパネル**: 各種パラメータ（感度、エフェクト強度、色など）をリアルタイムに調整可能です。
-   **シーン管理機能**: 最大5つのシーンをスロットに登録し、手動または自動でスムーズに切り替えることができます。
-   **ランダムシーン再生**: スロットに登録したEmptyを除く任意のシーンをランダムに再生します。
-   **ストロボ機能**: 低音の入力に反応して画面全体を発光させる機能です。閾値と明るさを設定できます。
-   スマートフォン未対応です。
-   v.1.3以降で実装予定：追加ビジュアルシーン

## 🚀 How to Use

1.  アプリケーションを開くと表示される「Click to start audio」をクリックして、マイクへのアクセスを許可してください。
2.  画面右上に表示されるコントロールパネルで、各種パラメータを調整します。
3.  キーボードショートカットで、より直感的な操作が可能です。

### キーボードショートカット

-   **`1` - `5`**: 対応するスロットのシーンに即時切り替え。
-   **`f`**: フルスクリーン表示のON/OFF(full screen)。
-   **`h`**: UI非表示のON/OFF(hidden)。

## 🎭 Default Scenes (v1.2.0)

現在、以下の8つのシーンが実装されています。

### Wavy Lines
-   **概要**: 画面を横切る複数の波打つ線で構成されます。
-   **低域 (Bass)**: 線の数に影響。
-   **中域 (Mid)**: 線の波の大きさに影響。
-   **高域 (Treble)**: 線のノイズ感・グリッチ感に影響。

### Pulsing Polygon
-   **概要**: 画面中央で脈動・回転する多角形で構成されます。
-   **低域 (Bass)**: 多角形の大きさ（脈動）に影響。
-   **中域 (Mid)**: 多角形の回転速度に影響。
-   **高域 (Treble)**: 多角形の頂点の歪み（トゲの鋭さ）に影響。

### Infinite Tunnel
- **概要**: 画面奥に向かって無限に続くワイヤーフレームのトンネル。音楽の疾走感を表現する。
- **低域 (Bass)**: ビートに合わせてトンネルの半径が一瞬拡大する。
- **中域 (Mid)**: トンネルを突き進むスピードが変化する。
- **高域 (Treble)**: ワイヤーフレームに歪みやグリッチ（ねじれ）を加える。

### Rotating Rings
- **概要**: ステレオスピーカーをイメージした、複数の同心円がそれぞれ回転する。
- **低域 (Bass)**: 円の線の太さが脈動するように変化する。
- **中域 (Mid)**: 各円の回転速度や回転方向が変化する。
- **高域 (Treble)**: 円周上にノイズやギザギザした乱れを加える。

### Wireframe Mirrorball
- **概要**: 画面中央に配置されたワイヤーフレームのミラーボールから、放射状に無数の直線が放たれる。クラシックなモチーフをミニマルに再解釈したビジュアル。
- **低域 (Bass)**: 放射される直線が一斉に長く、そして明るくなる。
- **中域 (Mid)**: ミラーボール本体の回転速度が変化する。
- **高域 (Treble)**: 放射される直線の本数や角度がランダムに変化する。

### Warping Grid
- **概要**: 画面全体に広がるグリッド（格子）が、回転しながら拡大・縮小を繰り返す。
- **低域 (Bass)**: ビートに合わせてグリッド全体が拡大・縮小する。
- **中域 (Mid)**: グリッドの回転速度が変化する。
- **高域 (Treble)**: 格子の交点がランダムに明滅する。

### Pulsing 3D Grid
- **概要**: 立方体の3Dグリッド上にプロットされた多数の円形の点が、ビートに合わせてリズミカルに脈動する。`WarpingGrid`シーンの3次元的な発展形。
- **低域 (Bass)**: 全ての点のサイズが一斉に拡大・縮小し、力強い脈動感を表現する。
- **中域 (Mid)**: グリッド全体がZ軸周りをゆっくりと回転する。
- **高域 (Treble)**: 各点の色や不透明度がランダムに明滅し、きらびやかな印象を与える。

### Curve Racer
- **概要**: 画面内に描かれた閉じた8の字コースの線上を、光る円が滑らかに滑走する。音楽のテンポと円の速度がシンクロすることで、高い没入感を生み出す。
- **低域 (Bass)**: 滑走する円のサイズや輝度が変化する。
- **中域 (Mid)**: 円がコースを滑走する速度が変化する。
- **高域 (Treble)**: コース自体の形状が、ノイズによって細かく歪む。

## 📏 シーン開発ガイド

新規にビジュアルシーンを開発する場合は、下記のシーン開発ガイドを参照してください。  
[./scene_development_guide.md](./scene_development_guide.md)

## 💻 Tech Stack

-   **描画**: Three.js (WebGL)
-   **音声処理**: Web Audio API
-   **UI**: Tweakpane
-   **言語**: HTML5, CSS3, JavaScript (ES Modules)

## 📄 License

Copyright (c) 2025 R-9 / EPX studio.

This project is licensed under the GNU General Public License.

This project utilizes third-party libraries under the following licenses:

-   **Three.js**: [MIT License](https://github.com/mrdoob/three.js/blob/dev/LICENSE)
-   **Tweakpane**: [MIT License](https://github.com/cocopon/tweakpane/blob/master/LICENSE)
